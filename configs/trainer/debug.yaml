# Debug Trainer 配置 - 用于快速测试训练流程
default_root_dir: ./outputs/debug  # 调试输出目录

# 训练控制 - 快速测试
max_epochs: 2              # 仅运行 2 个 epoch
precision: 32              # 训练精度

# 梯度控制
gradient_clip_val: 1.0     # 梯度裁剪值
accumulate_grad_batches: 1 # 梯度累积步数

# 禁用早停 - 调试时不需要
patience: null

# 验证配置 - 频繁验证以快速发现问题
val_check_interval: 1.0    # 每个 epoch 验证一次
log_every_n_steps: 1       # 每步记录日志

# 设备配置
accelerator: auto          # 训练设备
devices: 1                 # 设备数量

# 快速调试选项
fast_dev_run: false        # 设为 true 可只运行 1 个 batch
limit_train_batches: 5     # 限制训练 batch 数量
limit_val_batches: 2       # 限制验证 batch 数量

# 检查点配置 - 调试时可简化
checkpoint:
  save_top_k: 1            # 只保存 1 个检查点
  monitor: val/loss        # 监控指标
  mode: min                # 监控模式
